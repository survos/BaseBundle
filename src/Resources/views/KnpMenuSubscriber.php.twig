<?php // generated by {{ _self }}

namespace App\EventSubscriber;

use Knp\Menu\ItemInterface;
use Survos\BaseBundle\Services\KnpMenuHelper;
use Survos\BaseBundle\Traits\KnpMenuHelperTrait;
use Symfony\Component\EventDispatcher\EventSubscriberInterface;
use KevinPapst\AdminLTEBundle\Event\KnpMenuEvent;
use Symfony\Component\Security\Core\Authorization\AuthorizationCheckerInterface;

class KnpMenuSubscriber extends KnpMenuHelper implements EventSubscriberInterface
{
    use KnpMenuHelperTrait;

    private $security;

    public function __construct(AuthorizationCheckerInterface $security)
    {
        $this->security = $security;
    }

    public function onKnpMenuEvent(KnpMenuEvent $event)
    {
        // ...
        $menu = $event->getMenu();
        $this->addMenuItem($menu, ['route' => 'app_homepage']);
        $this->addMenuItem($menu, ['route' => 'app_typography']);
        $this->authMenuUsingClass($this->security, $menu, $event->getChildOptions());
    }

    public static function getSubscribedEvents()
    {
        return [
            KnpMenuEvent::class => 'onKnpMenuEvent',
        ];
    }
}
